$(document).ready(function () {
  var n = 1,
    t = +document
      .querySelectorAll(".order-price__price-first__span")[0]
      .textContent.match(/^([^,]+)/, "")[0],
    e = +document
      .querySelectorAll(".order-price__price-second__span")[0]
      .textContent.match(/^([^,]+)/, "")[0];
  $(".review-button").click(function (t) {
    t.preventDefault();
    var e = document.querySelector(".review-" + n);
    document.querySelector(".comments").appendChild(e),
      document
        .querySelector(".review-comment__last")
        .classList.remove("review-comment__last"),
      5 < (n += 1) && this.classList.add("d-none");
  }),
    $(".order-button__link").click(function (t) {
      t.preventDefault(),
        (quantityNum = document.querySelector(".quantity-num").value),
        $(".nav-link__span").html("(" + quantityNum + ")"),
        $(".nav-link__span2").html("(" + quantityNum + ")"),
        (colorSelects = document.querySelectorAll(".order-value__select")),
        (colorSelects[1].value = colorSelects[0].value);
    }),
    $(".quantity-arrow-plus").click(function () {
      (quantityNum = +document.querySelector(".quantity-num").value),
        (orderPrices = document.querySelectorAll(
          ".order-price__price-first__span"
        )),
        (orderOldPrices = document.querySelectorAll(
          ".order-price__price-second__span"
        )),
        (orderSave = document.querySelectorAll(".order-save")),
        (orderPrices[0].textContent = t * (quantityNum + 1) + ",00"),
        (orderPrices[1].textContent = t * (quantityNum + 1) + ",00"),
        (orderOldPrices[0].textContent = e * (quantityNum + 1) + ",00"),
        (orderOldPrices[1].textContent = e * (quantityNum + 1) + ",00"),
        (orderSave[0].textContent =
          +orderOldPrices[0].textContent.match(/^([^,]+)/, "")[0] -
          +orderPrices[0].textContent.match(/^([^,]+)/, "")[0] +
          ",00"),
        (orderSave[1].textContent =
          +orderOldPrices[1].textContent.match(/^([^,]+)/, "")[0] -
          +orderPrices[1].textContent.match(/^([^,]+)/, "")[0] +
          ",00"),
        (document.querySelector(".order-count__span").textContent =
          quantityNum + 1),
        $(".nav-link__span").html("(" + (quantityNum + 1) + ")"),
        $(".nav-link__span2").html("(" + (quantityNum + 1) + ")");
    }),
    $(".quantity-arrow-minus").click(function () {
      (quantityNum = +document.querySelector(".quantity-num").value),
        (orderPrices = document.querySelectorAll(
          ".order-price__price-first__span"
        )),
        (orderOldPrices = document.querySelectorAll(
          ".order-price__price-second__span"
        )),
        (orderSave = document.querySelectorAll(".order-save")),
        1 != quantityNum &&
          ((orderPrices[0].textContent = t * (quantityNum - 1) + ",00"),
          (orderPrices[1].textContent = t * (quantityNum - 1) + ",00"),
          (orderOldPrices[0].textContent = e * (quantityNum - 1) + ",00"),
          (orderOldPrices[1].textContent = e * (quantityNum - 1) + ",00"),
          (orderSave[0].textContent =
            +orderOldPrices[0].textContent.match(/^([^,]+)/, "")[0] -
            +orderPrices[0].textContent.match(/^([^,]+)/, "")[0] +
            ",00"),
          (orderSave[1].textContent =
            +orderOldPrices[1].textContent.match(/^([^,]+)/, "")[0] -
            +orderPrices[1].textContent.match(/^([^,]+)/, "")[0] +
            ",00"),
          (document.querySelector(".order-count__span").textContent =
            quantityNum - 1)),
        1 != +document.querySelector(".quantity-num").value &&
          ($(".nav-link__span").html("(" + (quantityNum - 1) + ")"),
          $(".nav-link__span2").html("(" + (quantityNum - 1) + ")"));
    }),
    $(function () {
      $("a[href^='#']").click(function () {
        var t = $(this).attr("href");
        return (
          $("html, body").animate({ scrollTop: $(t).offset().top + "px" }), !1
        );
      });
    }),
    $(window).width() < 1200 &&
      $(".colors-slider").slick({
        dots: !0,
        arrows: !1,
        infinite: !0,
        speed: 500,
        fade: !0,
        cssEase: "linear",
      }),
    $(".jumbotron-list__item-first").slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: !1,
      fade: !0,
      asNavFor: ".jumbotron-list__item-second",
    }),
    $(".jumbotron-list__item-second").slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      asNavFor: ".jumbotron-list__item-first",
      dots: !1,
      centerMode: !0,
      focusOnSelect: !0,
      arrows: !1,
    }),
    $(function () {
      var t, e, n;
      (t = $(".quantity-arrow-minus")),
        (e = $(".quantity-arrow-plus")),
        (n = $(".quantity-num")),
        t.click(function () {
          1 < n.val() && n.val(+n.val() - 1);
        }),
        e.click(function () {
          n.val(+n.val() + 1);
        });
    });
  var r, o, i;
  (r = $(".timer")),
    (o = new Date()),
    (i = new Date(
      o.getFullYear(),
      o.getMonth(),
      o.getDate(),
      o.getHours(),
      o.getMinutes() + 313,
      1
    )),
    r.countdown(i, function (t) {
      var e = t.strftime("%H"),
        n = t.strftime("%M"),
        r = t.strftime("%S");
      $(".hour1").text(e[0]),
        $(".hour2").text(e[1]),
        $(".minute1").text(n[0]),
        $(".minute2").text(n[1]),
        $(".second1").text(r[0]),
        $(".second2").text(r[1]);
    });
  var c = $("#review").offset().top - $(window).height();
  $(window).scroll(function () {
    var t = $(this).scrollTop();
    c < t &&
      ($(window).unbind("scroll"),
      $(".progress-bar1").css("width", "86%"),
      $(".progress-bar2").css("width", "10%"),
      $(".progress-bar3").css("width", "4%"),
      $(".progress-bar4").css("width", "1%"),
      $(".progress-bar5").css("width", "1%"),
      $(function () {
        $({ n: 0 }).animate(
          { n: 86 },
          {
            duration: 1e3,
            step: function (t) {
              $(".review-raiting__block-percent-span1").html(0 | t);
            },
          }
        );
      }),
      $(function () {
        $({ n: 0 }).animate(
          { n: 10 },
          {
            duration: 1e3,
            step: function (t) {
              $(".review-raiting__block-percent-span2").html(0 | t);
            },
          }
        );
      }),
      $(function () {
        $({ n: 0 }).animate(
          { n: 4 },
          {
            duration: 1e3,
            step: function (t) {
              $(".review-raiting__block-percent-span3").html(0 | t);
            },
          }
        );
      }),
      $(function () {
        $({ n: 0 }).animate(
          { n: 1 },
          {
            duration: 1e3,
            step: function (t) {
              $(".review-raiting__block-percent-span4").html(0 | t);
            },
          }
        );
      }),
      $(function () {
        $({ n: 0 }).animate(
          { n: 1 },
          {
            duration: 1e3,
            step: function (t) {
              $(".review-raiting__block-percent-span5").html(0 | t);
            },
          }
        );
      }));
  });
});
